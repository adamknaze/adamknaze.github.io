jQuery(document).ready(function(e){function a(a){a=!!a,e.ajax({url:rempiota.ajaxurl,type:"POST",async:!1,cache:!1,data:{action:"dn_remp_iota_save_autoload",autoload:a}})}function t(){e(".ri-scrolled-to-here").remove(),e(".ri-histogram").remove(),e(".ri-settings").remove(),e("#remplib-iota-loader").remove(),e("#wp-admin-bar-remp-iota a").removeClass("active")}function r(a){e("#wp-admin-bar-remp-iota a").addClass("active");var t={article:"undefined"!=typeof Article?{id:String(Article.position)}:null,iota:{url:a.url,articleSelector:a.selector,idCallback:function(e){var t=a.regexp,r=e.parentNode.href.match(t);return null===r?null:r[1]},targetElementCallback:function(e){return e.parentNode.parentNode},httpHeaders:{Authorization:"Bearer "+a.token}}};if(remplib.iota.init(t),!document.getElementById("remplib-iota-loader")){var r=document.createElement("script");r.src=a.url+"/assets/iota/js/iota.js",r.id="remplib-iota-loader",document.body.appendChild(r)}}var o=e("#wp-admin-bar-remp-iota-settings"),i={url:o.data("url"),selector:o.data("selector"),regexp:new RegExp(o.data("regexp"),"i"),token:o.data("token"),autoload:o.data("autoload")};if(i.autoload)var n=setInterval(function(){"undefined"!=typeof remplib&&(clearInterval(n),r(i))},500);e("#wp-admin-bar-remp-iota a").click(function(){return e(this).hasClass("active")?(a(!1),t()):(a(!0),r(i)),!1})});